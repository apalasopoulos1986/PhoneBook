@{
    ViewBag.Title = "Home Page";
}
@*Contacts List with web api*@ 
    <style>
        table, th, td {
            border: 1px solid black;
            border-collapse: collapse;
        }

        th, td {
            padding: 5px;
            text-align: left;
        }
    </style>
<button id="load_Contacts">Λίστα Επαφών (Web API)</button>

<table id="table">
</table>
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script>
    $(document).ready(function () {

        //load Contacts
        $("#load_Contacts").click(function (e) {
            $("#table").empty();
            var settings = {
                "url": "https://localhost:44346/api/ContactsAPI",
                "method": "GET",
                "timeout": 0,
                "headers": {
                    "Content-Type": "application/json;charset=utf-8"
                },
            };

            $.ajax(settings).done(function (response) {
                console.log(response);



                var trTH = document.createElement("tr");

                var th1 = document.createElement("th");
                th1.innerText = "id";
                var th2 = document.createElement("th");
                th2.innerText = "Όνομα";
                var th3 = document.createElement("th");
                th3.innerText = "Επώνυμο";
                var th4 = document.createElement("th");
                th4.innerText = "Εmail";
                var th5 = document.createElement("th");
                th5.innerText = "Σταθερό Τηλέφωνο";
                var th6 = document.createElement("th");
                th6.innerText = "Κινητό Τηλέφωνο";
                var th7 = document.createElement("th");
                th7.innerText = "Διεύθυνση";
                var th8 = document.createElement("th");
                th8.innerText = "Νούμερο";
                var th9 = document.createElement("th");
                th9.innerText = "Περιοχή";
                var th10 = document.createElement("th");
                th10.innerText = "Πόλη";


                trTH.append(th1);
                trTH.append(th2);
                trTH.append(th3);
                trTH.append(th4);
                trTH.append(th5);
                trTH.append(th6);
                trTH.append(th7);
                trTH.append(th8);
                trTH.append(th9);
                trTH.append(th10);

                var thead = document.createElement("thead");
                thead.append(trTH);



                var table = document.getElementById("table");
                table.append(thead);

                var tbody = document.createElement("tbody");

                for (var i in response) {
                    var id = document.createElement("td");
                    var name = document.createElement("td");
                    var surname = document.createElement("td");
                    var email = document.createElement("td");
                    var fixedphone = document.createElement("td");
                    var mobilephone = document.createElement("td");
                    var address = document.createElement("td");
                    var no = document.createElement("td");
                    var area = document.createElement("td");
                    var city = document.createElement("td");



                    id.append(response[i].id)
                    name.append(response[i].name);
                    surname.append(response[i].surname)
                    email.append(response[i].email)
                    fixedphone.append(response[i].fixedphone)
                    mobilephone.append(response[i].mobilephone)
                    address.append(response[i].address)
                    no.append(response[i].no)
                    area.append(response[i].area)
                    city.append(response[i].city)



                    //var grammi = $("<tr></tr>");
                    var trTB = document.createElement("tr");



                    trTB.append(id);
                    trTB.append(name);
                    trTB.append(surname);
                    trTB.append(email);
                    trTB.append(fixedphone);
                    trTB.append(mobilephone);
                    trTB.append(address);
                    trTB.append(no);
                    trTB.append(area);
                    trTB.append(city);




                    tbody.append(trTB);

                  
                }

                table.append(tbody);
            });

        });
    });


</script>



